(function(d){var e,b,a;e={cardIcons:".accepted_credit_cards",radioName:"card_type"};b={visa:{prefixes:[4],name:"Visa"},mastercard:{prefixes:[51,52,53,54,55],name:"MasterCard"},amex:{prefixes:[34,37],name:"American Express"},discover:{prefixes:[6011,62,64,65],name:"Discover"}};a={init:function(f){var g=d.extend({},e,f);return this.each(function(){a.setCardType(d(this),g)})},destroy:function(){return this.each(function(){d(this).unbind()})},detectCardType:function(h){var k=b,f,l,j,i,g;h=h.replace(/\D/g,"");for(f in k){if(k.hasOwnProperty(f)){l=k[f];for(j=0,g=l.prefixes.length;j<g;j+=1){if(l.prefixes.hasOwnProperty(j)){i=l.prefixes[j];if(new RegExp("^"+i.toString()).test(h)){return f}}}}}return false},setCardType:function(h,g){var f,j,i;f=["input[type='radio'][name='",g.radioName,"']"].join("");j=d(f);i=d(g.cardIcons);d(h).bind("change keyup input",function(){var k=a.detectCardType(d(this).val());if(k){i.find(".card").each(function(){d(this).toggleClass("match",d(this).hasClass(k));d(this).toggleClass("no_match",!d(this).hasClass(k))});j.filter("[value='"+k+"']").prop("checked",true)}else{i.find(".card").removeClass("match no_match");j.prop("checked",false)}})}};d.fn.creditCardChecker=function c(f){if(a[f]){return a[f].apply(this,Array.prototype.slice.call(arguments,1))}if(typeof f==="object"||!f){return a.init.apply(this,arguments)}d.error("Method "+f+" does not exist on jQuery.creditCardChecker")}}(jQuery));