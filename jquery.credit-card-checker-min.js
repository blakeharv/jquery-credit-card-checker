(function(d){var e={cardIcons:".accepted_credit_cards",radioName:"card_type"};var b={visa:{prefixes:[4],name:"Visa"},mastercard:{prefixes:[51,52,53,54,55],name:"MasterCard"},amex:{prefixes:[34,37],name:"American Express"},discover:{prefixes:[6011,62,64,65],name:"Discover"}};var a={init:function(f){var g=d.extend({},e,f);return this.each(function(){a._setCardType(d(this),g)})},destroy:function(){return this.each(function(){d(this).unbind()})},_detectCardType:function(h){var k=b,f;h=h.replace(/\D/g,"");for(f in k){var l=k[f];if(k.hasOwnProperty(f)){for(var j=0,g=l.prefixes.length;j<g;++j){var i=l.prefixes[j];if(l.prefixes.hasOwnProperty(j)){if(new RegExp("^"+i.toString()).test(h)){return f}}}}}return false},_setCardType:function(h,g){var f=["input[type='radio'][name='",g.radioName,"']"].join("");var j=d(f);var i=d(g.cardIcons);d(h).bind("change keyup input",function(){var k=a._detectCardType(d(this).val());if(k){i.find(".card").each(function(){d(this).toggleClass("match",d(this).hasClass(k));d(this).toggleClass("no_match",!d(this).hasClass(k))});j.filter("[value='"+k+"']").prop("checked",true)}else{i.find(".card").removeClass("match no_match");j.prop("checked",false)}})}};d.fn.creditCardChecker=function c(f){if(a[f]){return a[f].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof f==="object"||!f){return a.init.apply(this,arguments)}else{d.error("Method "+f+" does not exist on jQuery.creditCardChecker")}}}})(jQuery);